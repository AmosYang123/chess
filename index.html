<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Play chess online with friends or practice locally" />
  <title>Chess</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
</head>

<body>
  <div class="main-layout">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>CHESS</h1>
      </div>

      <nav class="sidebar-nav">
        <div class="nav-item active" data-view="game">
          <span>Play</span>
        </div>
        <div class="nav-item" data-view="friends">
          <span>Friends</span>
        </div>
        <div class="nav-item" data-view="settings">
          <span>Settings</span>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Game View -->
      <div id="view-game" class="view-section active">
        <div class="game-container">
          <div class="game-info">
            <div class="status" id="status">White to Move</div>

            <!-- Actions -->
            <div class="game-actions">
              <button id="online-btn" class="btn small-btn">Online Play</button>
              <button id="friend-play-btn" class="btn secondary small-btn">Play with Friend</button>
            </div>

            <!-- Room Info Display -->
            <div id="room-wait-container" class="friend-play-section hidden">
              <p class="room-status-text">Room Code: <span id="display-room-code" class="code-text">------</span></p>
              <p class="waiting-text">Waiting for friend to join...</p>
              <p class="selected-color-text">Your color: <span id="selected-color-display"></span></p>
              <button id="cancel-room-btn" class="btn secondary small-btn">Cancel</button>
            </div>
          </div>

          <div class="board-container">
            <div id="game-mode-indicator" class="game-mode-indicator">Free Play</div>
            <div id="chess-board" class="chess-board"></div>
          </div>

          <div class="controls">
            <button id="reset-btn" class="btn secondary">Reset Game</button>
          </div>

          <div id="check-alert" class="hidden">Check!</div>
        </div>
      </div>

      <!-- Friends View -->
      <div id="view-friends" class="view-section">
        <div class="friends-container">
          <div class="friends-header">
            <h2>Your Friends</h2>
            <button class="btn small-btn">+ Add Friend</button>
          </div>

          <div class="friends-grid">
            <!-- Friend Card 1 -->
            <div class="friend-card item">
              <div class="friend-info">
                <div class="friend-avatar online"></div>
                <div class="friend-details">
                  <h3>Amos (You)</h3>
                  <p class="stats">Elo: 1200 | Wins: 24</p>
                </div>
              </div>
              <div class="friend-actions">
                <span class="status-badge online">Online</span>
              </div>
            </div>

            <!-- Friend Card 2 -->
            <div class="friend-card item">
              <div class="friend-info">
                <div class="friend-avatar"></div>
                <div class="friend-details">
                  <h3>GrandMaster99</h3>
                  <p class="stats">Elo: 2800 | Wins: 904</p>
                </div>
              </div>
              <div class="friend-actions">
                <button class="btn secondary small-btn">Invite</button>
              </div>
            </div>

            <!-- Friend Card 3 -->
            <div class="friend-card item">
              <div class="friend-info">
                <div class="friend-avatar away"></div>
                <div class="friend-details">
                  <h3>CasualPlayer</h3>
                  <p class="stats">Elo: 800 | Wins: 2</p>
                </div>
              </div>
              <div class="friend-actions">
                <span class="status-badge offline">Offline</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Settings View -->
      <div id="view-settings" class="view-section">
        <h2>Settings</h2>
        <div class="settings-list" style="width: 100%; max-width: 500px;">
          <div class="setting-item">
            <div class="setting-info">
              <span class="setting-label">Auto-flip Board</span>
              <span class="setting-desc">Rotate board after each move in local play</span>
            </div>
            <label class="switch">
              <input type="checkbox" id="auto-flip-toggle" checked>
              <span class="slider round"></span>
            </label>
          </div>
          <div class="setting-item">
            <div class="setting-info">
              <span class="setting-label">Flip Board</span>
              <span class="setting-desc">Manually rotate the board view</span>
            </div>
            <button id="settings-flip-btn" class="btn small-btn">Flip Now</button>
          </div>
        </div>
      </div>
    </main>

    <!-- Friend Play Modal -->
    <div id="friend-modal" class="modal hidden">
      <div class="modal-content friend-modal-content">
        <div class="modal-header">
          <h2>Play with Friend</h2>
          <button id="close-friend-modal" class="close-btn">&times;</button>
        </div>

        <div class="tabs">
          <div class="tab active" data-tab="create">Create Room</div>
          <div class="tab" data-tab="join">Join Room</div>
        </div>

        <div class="tab-content active" id="tab-create">
          <p class="label">Choose Your Color:</p>
          <div class="color-options">
            <div class="color-option" data-color="white">White</div>
            <div class="color-option" data-color="random">Random</div>
            <div class="color-option" data-color="black">Black</div>
          </div>
          <button id="create-room-btn" class="btn full-width">Create Room</button>
        </div>

        <div class="tab-content" id="tab-join">
          <p class="label">Enter Room Code:</p>
          <div class="input-group">
            <input type="text" id="room-code-input" placeholder="CODE" maxlength="6">
          </div>
          <button id="join-room-btn" class="btn full-width">Join Room</button>
        </div>
      </div>
    </div>

    <!-- Promotion Modal -->
    <div id="promotion-modal" class="modal hidden">
      <div class="modal-content">
        <h2>Choose Promotion</h2>
        <div class="promotion-options">
          <div data-type="queen" class="promo-option">Queen</div>
          <div data-type="rook" class="promo-option">Rook</div>
          <div data-type="bishop" class="promo-option">Bishop</div>
          <div data-type="knight" class="promo-option">Knight</div>
        </div>
      </div>
    </div>



    <!-- Game Over Modal -->
    <div id="game-over-modal" class="modal hidden">
      <div class="modal-content game-over-content">
        <div class="game-over-icon">üèÜ</div>
        <h2 id="game-over-title">Checkmate!</h2>
        <p id="game-over-status">White Wins</p>
        <div class="game-over-actions">
          <button id="rematch-btn" class="btn">New Game</button>
          <button id="close-game-over" class="btn secondary">Close</button>
        </div>
      </div>
    </div>
  </div>
  <script type="module" src="main.js"></script>
</body>

</html>